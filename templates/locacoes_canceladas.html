{% extends "base.html" %}
{% block content %}
<div class="container mt-4">

  <h2 class="mb-4">Locações Canceladas</h2>

  <table class="table table-striped">
    <thead>
      <tr>
        <th>ID</th>
        <th>Cliente</th>
        <th>Moto</th>
        <th>Placa</th>
        <th>Data Início</th>
        <th>Data Fim</th>
        <th>Contrato</th>
        <th>Boleto</th>
        <th>Observações</th>
      </tr>
    </thead>
    <tbody>
      {% for locacao in canceladas %}
      <tr>
        <td>{{ locacao.id }}</td>
        <td>{{ locacao.cliente_nome }}</td>
        <td>{{ locacao.moto_modelo }}</td>
        <td>{{ locacao.moto_placa }}</td>
        <td>{{ locacao.data_inicio }}</td>
        <td>
          {% if locacao.data_fim %}
            {{ locacao.data_fim }}
          {% else %}
            -
          {% endif %}
        </td>
        <td>
          {% if locacao.contrato_pdf %}
            <a class="btn btn-sm btn-outline-dark"
               href="{{ url_for('uploaded_contract', filename=locacao.contrato_pdf) }}"
               target="_blank">Ver Contrato</a>
          {% else %}
            -
          {% endif %}
        </td>
        <td>
          {% if locacao.boleto_url %}
            <a class="btn btn-sm btn-success"
               href="{{ locacao.boleto_url }}"
               target="_blank">Ver Boleto</a>
          {% else %}
            -
          {% endif %}
        </td>
        <td>{{ locacao.observacoes or "-" }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

</div>
{% endblock %}